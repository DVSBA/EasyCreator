var stdMenuImgs=new Array("archive","article","category","checkin","component","config","content","cpanel","default","frontpage","help","info","install","language","logout","massmail","media","menu","menumgr","messages","module","plugin","stats","themes","trash","user ");function newSubmenu(a,a,a,a,a,b){newLi=addSubmenu("","","","","",b);if("1.5"!=ECR_JVERSION){sortSubMenu.addItems(newLi)}}function addSubmenu(j,h,d,a,g,i){var b=document.id("divSubmenu");var c=document.id("totalSubmenu");var f=(document.id("totalSubmenu").value-1)+2;c.value=f;var e="submenu"+f+"Div";var k=document.createElement("li");k.setAttribute("class","menu");html="";html+='<input type="hidden" name="submenu['+f+'][menuid]" value="'+g+'" />';if(i){html+='<input type="hidden" name="submenu['+f+'][parent]" value="'+i+'" />'}html+='<span class="ecr_label2">'+jgettext("Text")+'</span><input type="text" name="submenu['+f+'][text]" size="15" value="'+j+'" style="border: 2px solid blue; font-size: 1.3em;" />';html+='<span class="ecr_label2">'+jgettext("Link")+"</span>";html+='<input type="text" name="submenu['+f+'][link]" size="25" value="'+h+'" />';if("1.5"==ECR_JVERSION){html+='<span class="ecr_label2">'+jgettext("Ordering")+"</span>";html+='<input type="text" name="submenu['+f+'][ordering]" size="2" value="'+a+'" />'}html+="<br />";html+="<br />";html+='<span class="ecr_label2">'+jgettext("Image")+"</span>";html+='<div id="menuPic-'+f+'" style="display: inline;"></div>';html+='<div id="prev-'+f+'" style="display: inline;"></div>';html+='<input type="text" name="submenu['+f+'][img]" size="30" value="'+d+'" id="img-'+f+'" />';html+='<div style="float: right" class="ecr_button img icon-16-delete" onclick="this.getParent().dispose();">'+jgettext("Delete")+"</div>";k.set("html",html);b.appendChild(k);drawPicChooser(f,d);return k}function chgMenuPic(a){if(a==undefined){a=""}selection=$("opt-"+a).value;switch(selection){case"":$("img-"+a).value="";$("img-"+a).readOnly=true;$("prev-"+a).setAttribute("class","");break;case"user_defined":$("img-"+a).readOnly=false;$("prev-"+a).setAttribute("class","");break;default:$("img-"+a).value=selection;$("img-"+a).readOnly=true;$("prev-"+a).setAttribute("class","img icon-16-"+selection);break}}function drawPicChooser(a,c){html="";html+='<select name="opt-'+a+'" id="opt-'+a+'" onchange="chgMenuPic('+a+');">';html+='<option value="">'+jgettext("Select...")+"</option>";found=false;for(var b=0;b<=stdMenuImgs.length-1;b++){selected="";if(c==stdMenuImgs[b]){selected=' selected="selected"';found=true}html+="<option"+selected+' class="img icon-16-'+stdMenuImgs[b]+'">'+stdMenuImgs[b]+"</option>"}selected="";if(c!=""&&found==false){selected=' selected="selected"'}html+='<option value="user_defined"'+selected+">"+jgettext("User defined")+"</option>";html+="</select>";$("menuPic-"+a).innerHTML=html;chgMenuPic(a)};